<!DOCTYPE html>
<html lang="fr">
<head><meta charset="UTF-8"><title>Test Mic</title></head>
<body>
<button id="startBtn">DÃ©marrer</button>
<div id="status"></div>
<script>
const startBtn = document.getElementById("startBtn");
const statusDiv = document.getElementById("status");
startBtn.onclick = () => {
  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  if (!SpeechRecognition) {
    statusDiv.textContent = "API non supportÃ©e";
    return;
  }
  const recognition = new SpeechRecognition();
  recognition.lang = "fr-FR";
  recognition.continuous = false;
  recognition.interimResults = false;

  recognition.onstart = () => statusDiv.textContent = "ðŸŽ¤ Ã‰coute...";
  recognition.onresult = e => {
    const text = e.results[0][0].transcript;
    statusDiv.textContent = `Reconnu: ${text}`;
  };
  recognition.onerror = e => statusDiv.textContent = "Erreur: "+e.error;
  recognition.onend = () => statusDiv.textContent += " (fin)";
  recognition.start();
};
</script>
</body>
</html>
